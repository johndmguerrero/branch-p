<%= product_edit_header %>
<%= product_edit_modal_remove %>
<div class="bg-surface-secondary" data-controller="product">
  <div class="container py-10">
    <%= form_with model: @product, id: 'product-edit-form', url: product_path(@product), method: :patch, local: false, data: { "product-target": "productEditForm" } do |f| %>
      <div class="row">
        <div class="col-lg-7">
          <div class="card shadow border-0 mb-10">
            <div class="card-body">
              <div class="mb-7">
                <h4 class="font-semibold mb-1">Product Image</h4>
                <div class="position-relative product-image-preview">
                  <%= product_edit_image_display %>
                  <div class="frame-file-upload duration-300 ease-in-out transition-opacity card border-2 border-dashed border-primary-hover position-absolute start-0 end-0 top-0 bottom-0 opacity-0 m-4" style="background-size: cover;">
                    <div class="d-flex justify-content-center align-items-center h-full px-5 py-5">
                      <%= f.label :image, '', class: 'position-absolute w-full h-full top-0 start-0 cursor-pointer' do %>
                        <%= f.file_field :image, class: 'visually-hidden', data: { action: 'change->product#previewImage', "product-target" => 'productFileInput' }%>
                      <% end %>
                      <div class="text-center">
                        <div class="text-2xl text-muted">
                          <i class="bi bi-upload"></i>
                        </div>
                        <div class="d-flex text-sm mt-3">
                          <p class="font-semibold">Upload a file or drag and drop</p>
                        </div>
                        <p class="text-xs text-gray-500">
                          PNG, JPG, GIF up to 3MB
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row g-5">
                <div class="col-md-12">
                  <div class="">
                    <%= f.label :name, 'Name', class: 'form-label' %>
                    <%= f.text_field :name, class: 'form-control' %>
                  </div>
                </div>
                <div class="col-md 12">
                  <div>
                    <%= f.label :category, 'Category', class: 'form-label' %>
                    <%= select :product, :category_id, @category.collect { |cat| [cat.name, cat.id]}, { prompt: true }, { class: "form-select" } %>
                  </div>
                </div>
                <div class="col-md-12">
                  <div class="">
                    <%= f.label :description, 'Description', class: 'form-label' %>
                    <%= f.text_area :description, class: 'form-control', rows: 3 %>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-5">
          <div class="card shadow border-0 mb-10">
            <div class="card-body">
              <div class="mb-7">
                <h4 class="font-semibold mb-1">Product Information</h4>
                <p class="text-sm text-muted d-none">By filling your data you get a much better experience using our website.</p>
              </div>
              <div class="row g-5">
                <div class="col-md-6">
                  <div class="">
                    <%= f.label :price, 'Product price', class: 'form-label' %>
                    <div class="input-group input-group-inline">
                      <span class="input-group-text" id="">
                          &#8369;
                      </span>
                      <%= f.text_field :price, class: 'form-control text-end', data: { "product-target" => 'productPriceInput' } %>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="">
                    <%= f.label :cost, 'Product cost', class: 'form-label' %>
                    <div class="input-group input-group-inline">
                      <span class="input-group-text" id="">
                          &#8369;
                      </span>
                      <%= f.text_field :cost, class: 'form-control', data: { "product-target": 'productCostInput' } %>
                    </div>
                  </div>
                </div>
                <div class="col-12">
                  <div class="">
                    <%= f.label :quantity, 'Product quantity', class: 'form-label' %>
                    <p><%= @product.quantity %></p>
                    <%# f.number_field :quantity, class: 'form-control' %>
                  </div>
                </div>
                <%# <div class="col-md-6">
                  <div class="">
                    <label class="form-label" for="city">City</label>
                    <input type="text" class="form-control" id="city" placeholder="Your email">
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="">
                    <label class="form-label" for="country">Country</label>
                    <select class="form-select" id="country" placeholder="Your email" aria-label="Default select example">
                      <option selected>Country</option>
                      <option value="1">One</option>
                      <option value="2">Two</option>
                      <option value="3">Three</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-2">
                  <div class="">
                    <label class="form-label" for="zip">ZIP</label>
                    <input type="tel" class="form-control" id="zip" placeholder="Your email">
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="check_primary_address" id="check_primary_address">
                    <label class="form-check-label" for="check_primary_address">
                      Make this my default address
                    </label>
                  </div>
                </div> %>
              </div>
            </div>
            <div class="card-footer text-end py-4">
              <%= f.button type: 'submit', class: 'btn btn-sm btn-primary', data: { action: 'click->product#submitProductBtn' } do %>
                Update
              <% end %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>